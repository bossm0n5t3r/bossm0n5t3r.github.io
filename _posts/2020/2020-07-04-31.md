---
layout: post
title: "[k8s] 개념"
description: "kubernetes 개념"
categories: [kubernetes, kube, k8s, 개념]
tags: [kubernetes, kube, k8s, 개념]
redirect_from:
  - /2020/07/04/
use_math: false
published: true
---

# [k8s] 개념

<img src="/assets/images/posts/logos/k8s-logo.svg" width="128" height="128"><img src="/assets/images/posts/logos/k8s_name_blue.svg">

## 개요

- 쿠버네티스를 사용하려면, `쿠버네티스 API 오브젝트`로 클러스터에 대해 사용자가 바라는 상태를 기술해야 함
  - 어떤 애플리케이션이나 워크로드를 구동시키려고 하는지
  - 어떤 컨테이너 이미지를 쓰는지
  - 복제의 수는 몇 개인지
  - 어떤 네트워크와 디스크 자원을 쓸 수 있도록 할 것인지
- 바라는 상태를 설정하는 방법
  - 쿠버네티스 API를 사용해서 오브젝트를 만드는 것
  - 대개 `kubectl`이라는 CLI(커맨드라인 인터페이스)를 사용
  - 클러스터와 상호 작용하고, 바라는 상태를 설정하거나 수정하기 위해서 쿠버네티스 API를 직접 사용할 수 있음
- 바라는 상태를 설정하면
  - `쿠버네티스 컨트롤 플레인`은 Pod Lifecycle Event Generator([PLEG](https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node/pod-lifecycle-event-generator.md))를 통해서 클러스터의 현재 상태를 바라는 상태와 일치시킴
  - 쿠버네티스 컨트롤 플레인은 클러스터에서 실행 중인 프로세스의 묶음(collection)으로 구성

<br/>

- <b>쿠버네티스 마스터</b>는 클러스터 내 마스터 노드
  - 지정된 노드 내에서 구동되는 세 개의 프로세스 묶음
  - 해당 프로세스는
    - [kube-apiserver](https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/)
    - [kube-controller-manager](https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/)
    - [kube-scheduler](https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/)
- 클러스터 내 마스터 노드가 아닌 각각의 노드는 다음 두 개의 프로세스를 구동
  - 쿠버네티스 마스터와 통신하는 [kubelet](https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/)
  - 각 노드의 쿠버네티스 네트워킹 서비스를 반영하는 네트워크 프록시인 [kube-proxy](https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/)
